!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.PromiseQueue=n():e.PromiseQueue=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){e.exports=t(1)},function(e,n){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=function(){function e(n){if(t(this,e),this._queue=[],n=Object.assign({concurrency:1/0},n),n.concurrency<1)throw new TypeError("Expected `concurrency` to be a number from 1 and up");this._pendingCount=0,this._concurrency=n.concurrency,this._resolveEmpty=function(){}}return o(e,[{key:"_next",value:function(){this._pendingCount--,this._queue.length>0?this._queue.shift()():this._resolveEmpty()}},{key:"add",value:function(e){var n=this;return new Promise(function(t,o){var r=function(){n._pendingCount++,e().then(function(e){t(e),n._next()},function(e){o(e),n._next()})};n._pendingCount<n._concurrency?r():n._queue.push(r)})}},{key:"size",get:function(){return this._queue.length}},{key:"pending",get:function(){return this._pendingCount}}]),e}();n.default=r}])});
//# sourceMappingURL=PromiseQueue.js.map?7f18d86b302c341ba6d1